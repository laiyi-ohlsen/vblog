<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div class="content">
            {% include "_header.njk" %}
            {% block content %}{{ content | safe }}{% endblock %}
        </div>
    </div>
<script>
document.querySelectorAll('[data-carousel]').forEach(carousel => {
  const track = carousel.querySelector('.carousel-track');
  const images = track.querySelectorAll('img');
  const prevBtn = carousel.querySelector('[data-prev]');
  const nextBtn = carousel.querySelector('[data-next]');
  const counter = carousel.querySelector('[data-current]');
  let index = 0;
  function update() {
    track.style.transform = 'translateX(-' + (index * 100) + '%)';
    if (counter) counter.textContent = index + 1;
  }
  if (prevBtn) prevBtn.addEventListener('click', () => {
    index = (index - 1 + images.length) % images.length;
    update();
  });
  if (nextBtn) nextBtn.addEventListener('click', () => {
    index = (index + 1) % images.length;
    update();
  });
});
</script>
</body>
</html>
